---
Term: 3
Sprint: 13 
Subject: Refresh Directus Filters
---


## Refresh opdracht (https://github.com/fdnd-task/your-tribe-for-life-squad-page/blob/main/docs/live-rendering.md)

1. https://fdnd.directus.app/items/person?sort=name&fields=name
2. https://fdnd.directus.app/items/person?filter={name:{_starts_with:D}}
3. https://fdnd.directus.app/items/person?filter={name:{_nstarts_with:K}}
4. https://fdnd.directus.app/items/person?filter={"birthdate":{"_lt":"2000-01-01"}}
5. https://fdnd.directus.app/items/person?filter={"birthdate":{"_between":["2000-01-01","2008-12-31"]}}
6. https://fdnd.directus.app/items/person?groupBy[]=fav_tag&aggregate[count]=fav_tag


## Routes met SvelteKit:

Route aanmaken werkt nu door map aan te maken. Mapnaam is je route

/bliep is dan /routes/bliep/+page.svelte

## Data ophalen

je maakt een +page.server.js aan in de hoofdroute.
de fetch is nu een return.
hierin haal je data op zoals:
```
export async function load({url}){
    const membersReponse = await fetch('https://fdnd.directus.app/items/person/?sort=name&fields=*,squads.squad_id.name,squads.squad_id.cohort&filter={"_and":[{"squads":{"squad_id":{"tribe":{"name":"FDND Jaar 2"}}}},{"squads":{"squad_id":{"cohort":"2526"}}}]}')
    const membersReponseData = await membersReponse.json()
    return{members: membersReponseData.data}
}
```

in de svelte file haal je de data op met:
```
<script>
	let { data } = $props();
    console.log(data);
</script>
```
in de {data} zitten alle doorgegeven data.

Hier kan je loopen zoals:
```
{#each members as member }
    <li> {member.name}</li>
{/each}
```

## Detail pagina

je maakt dan een map aan met blokhaak [id]